<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to EduMentor AI</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        :root {
            --primary-color: #6a5acd; --background-color: #f0f2f5; --text-color: #333;
            --card-bg: #ffffff; --border-radius: 12px; --shadow: 0 8px 30px rgba(0,0,0,0.1);
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--background-color); margin: 0; padding: 20px; display: flex; justify-content: center; align-items: center; min-height: 100vh;}
        .auth-container { background: var(--card-bg); padding: 40px; border-radius: var(--border-radius); box-shadow: var(--shadow); width: 100%; max-width: 420px; }
        .tab-buttons { display: flex; border-bottom: 1px solid #eee; margin-bottom: 25px; }
        .tab-btn { flex: 1; padding: 15px; background: none; border: none; font-size: 18px; font-weight: 600; cursor: pointer; color: #aaa; border-bottom: 3px solid transparent; }
        .tab-btn.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
        .form-section { display: none; }
        .form-section.active { display: block; }
        .form-section input { width: 100%; padding: 12px; margin-bottom: 15px; border-radius: 8px; border: 1px solid #ddd; font-size: 16px; box-sizing: border-box; }
        .form-section button { width: 100%; padding: 14px; background-color: var(--primary-color); color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer; }
        .or-divider { text-align: center; color: #aaa; margin: 25px 0; }
        .google-btn { display: flex; align-items: center; justify-content: center; width: 100%; padding: 12px; background-color: #fff; color: #444; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; text-decoration: none; font-weight: 500; }
        .google-btn svg { margin-right: 10px; }
        .error-message { color: #D8000C; background-color: #FFD2D2; border: 1px solid #D8000C; padding: 10px; margin-bottom: 20px; border-radius: 8px; text-align: center; }
    </style>
</head>
<body>
    <div class="auth-container">
        <div class="tab-buttons">
            <button class="tab-btn" onclick="showForm('login')">Login</button>
            <button class="tab-btn" onclick="showForm('signup')">Sign Up</button>
        </div>

        {% if error %}
            <p class="error-message">{{ error }}</p>
        {% endif %}

        <div id="login" class="form-section">
            <form action="/login" method="post">
                <input type="email" name="email" placeholder="Email Address" required>
                <input type="password" name="password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
        </div>

        <div id="signup" class="form-section">
            <form action="/signup" method="post">
                <input type="text" name="name" placeholder="Full Name" required>
                <input type="email" name="email" placeholder="Email Address" required>
                <input type="password" name="password" placeholder="Create a Password" required>
                <button type="submit">Create Account</button>
            </form>
        </div>
        
        <div class="or-divider">or</div>
        
        <a href="#" class="google-btn"> <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path fill="#4285F4" d="M17.64 9.20455c0-.63864-.05727-1.25455-.16364-1.84091H9v3.48182h4.84409c-.20864 1.125-.84409 2.07818-1.77727 2.72182v2.25909h2.90864c1.70182-1.56682 2.68409-3.87409 2.68409-6.62364z"/><path fill="#34A853" d="M9 18c2.43 0 4.46727-.80591 5.95636-2.18045l-2.90864-2.25909c-.80591.54364-1.83682.86591-2.99045.86591-2.32273 0-4.28318-1.56682-4.98182-3.66682H1.05v2.33182C2.49364 16.32455 5.48182 18 9 18z"/><path fill="#FBBC05" d="M4.01818 10.8886c-.22-.63864-.22-1.32136 0-1.96v-2.33182H1.05C.39 7.82318 0 9.38182 0 11.25s.39 3.42682 1.05 4.36364l2.96818-2.33182z"/><path fill="#EA4335" d="M9 3.53409c1.32136 0 2.50773.46136 3.44409 1.34591L15.3214 2.1C13.8327.80591 11.6673 0 9 0 5.48182 0 2.49364 1.67545 1.05 4.18182l2.96818 2.33182C4.71682 4.54545 6.67727 3.53409 9 3.53409z"/></svg>
            Sign in with Google
        </a>
    </div>

    <script>
        function showForm(formId) {
            document.getElementById('login').classList.remove('active');
            document.getElementById('signup').classList.remove('active');
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(formId).classList.add('active');
            document.querySelector(`.tab-btn[onclick="showForm('${formId}')"]`).classList.add('active');
        }
        // On page load, show the form specified by the server (if an error occurred), otherwise default to signup
        document.addEventListener('DOMContentLoaded', () => {
            const initialForm = '{{ form if form else "signup" }}';
            showForm(initialForm);
        });
    </script>
</body>
</html>